SPECIFICATION UserSpec

\* Constants
CONSTANTS
  Contexts = {"server", "client1", "client2", "client3"}
  MaxInFlight = 2
  MaxTabId = 0  \* Not used by WebSocket apps
  MaxClients = 2
  MaxMessagesPerClient = 2
  TimeoutLimit = 3
  CONNECTIONS_COUNT_Max = 100
  CONNECTIONS_MAXCONCURRENT_Max = 100
  USERS_ONLINE_Max = 100
  USERS_TOTAL_Max = 1000
  CHAT_MESSAGECOUNT_Max = 100
  CHAT_MAXMESSAGES_Max = 100
  TODOS_COUNT_Max = 50
  TODOS_COMPLETED_Max = 50
  TODOS_MAXTODOS_Max = 50

\* Invariants to check
INVARIANTS
  TypeOK
  NoRoutingLoops
  UserStateTypeInvariant

\* State constraint
CONSTRAINT
  StateConstraint