SPECIFICATION Spec

\* Constants
CONSTANTS
    Contexts = {background, content, popup}
    MaxMessages = 4
    Tabs = {0, 1, 2}
    TimeoutLimit = 3

\* Invariants to check
INVARIANTS
    TypeOK
    NoRoutingLoops
    DeliveredWerePending
    NoOrphanedRequests

\* Properties to check
PROPERTIES
    EventualResolution
    ConnectedEventuallyDelivers

\* State constraint (keep state space manageable)
CONSTRAINT
    Len(messages) <= MaxMessages
